<!doctype html><html lang=en dir=ltr><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.85.0"><title>Introduction to Duck Typing and EAFP | Saurav Maheshkar</title><meta property="twitter:site" content="@MaheshkarSaurav"><meta property="twitter:creator" content="@MaheshkarSaurav"><meta name=description content="Brief Introduction to Duck Typing and EAFP (Programming Methodology)"><meta property="og:site_name" content="Saurav Maheshkar"><meta property="og:title" content="Introduction to Duck Typing and EAFP | Saurav Maheshkar"><meta property="og:description" content="Brief Introduction to Duck Typing and EAFP (Programming Methodology)"><meta property="og:type" content="page"><meta property="og:url" content="https://sauravmaheshkar.github.io/blog/duck-typing-eafp/"><meta property="og:locale" content="en"><meta property="og:image" content="https://sauravmaheshkar.github.io/blog/duck-typing-eafp/featured.jpg"><meta property="twitter:card" content="summary_large_image"><meta name=twitter:image content="https://sauravmaheshkar.github.io/blog/duck-typing-eafp/featured.jpg"><script>MathJax={tex:{inlineMath:[['$','$'],['\\(','\\)']],displayMath:[['$$','$$'],['\\[','\\]']],processEscapes:!0,processEnvironments:!0},options:{skipHtmlTags:['script','noscript','style','textarea','pre']}},window.addEventListener('load',a=>{document.querySelectorAll("mjx-container").forEach(function(a){a.parentElement.classList+='has-jax'})})</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script type=text/javascript id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><meta itemprop=name content="Introduction to Duck Typing and EAFP"><meta itemprop=description content="Duck-Typing is a extremely useful programming style, which truly makes python awesome. It enables us to &ldquo;ignore&rdquo; the object type and rather just check if the object contains the function or not.
Famously referred in the python documentation as:
 &ldquo;If it looks like a duck and quacks like a duck, it must be a duck&rdquo;
 If the codebase is well defined, this allows for flexibility by allowing polymorphic substitution."><meta itemprop=datePublished content="2020-12-12T00:00:00+00:00"><meta itemprop=dateModified content="2020-12-12T00:00:00+00:00"><meta itemprop=wordCount content="402"><meta itemprop=image content="https://sauravmaheshkar.github.io/blog/duck-typing-eafp/featured.jpg"><meta itemprop=keywords content><!--[if IE]><script src=//html5shiv.googlecode.com/svn/trunk/html5.js></script><![endif]--><link rel="shortcut icon" href=/img/favicon.ico type=image/x-icon><link rel=icon href=/img/favicon.ico type=image/x-icon><link rel=stylesheet href=/style.main.min.9fe1917e3fd8cb643bf35aa0995479b67c8cee6eeca071b3bbe20d3248308e3b.css integrity="sha256-n+GRfj/Yy2Q781qgmVR5tnyM7m7soHGzu+INMkgwjjs=" media=screen><script src=/panelset.min.078a92db9bd3228df502db3d9e0453c3cf3d910abe3f8deca0ad196c7071ad41.js type=text/javascript></script><script src=/main.min.38a0323c5b0bbb611c4874ba2d8fdaba57d20cc2b0d704b30250c235ba8b6d49.js type=text/javascript></script></head><body><div class=grid-container><header class="site-header pt4 pb2 mb4 bb b--transparent ph5 headroom z-max" role=banner><nav class="site-nav db dt-l w-100" role=navigation><a class="site-brand db dtc-l v-mid link no-underline w-100 w-33-l tc tl-l" href=https://sauravmaheshkar.github.io/ title=Home><img src=/img/android-chrome-256x256.png class="dib db-l h2 w-auto" alt="Saurav Maheshkar"></a><div class="site-links db dtc-l v-mid w-100 w-47-l tc tr-l mt3 mt0-l ttu tracked"><a class="link f6 f5-l dib pv1 ph2" href=/about/ title=About>About</a>
<a class="link f6 f5-l dib pv1 ph2 active" href=/blog/ title=Blog>Blog</a>
<a class="link f6 f5-l dib pv1 ph2" href=/project/ title="Project Portfolio">Projects</a>
<a class="link f6 f5-l dib pv1 ph2" href=https://sauravmaheshkar.substack.com/welcome title=Newsletter>Newsletter</a></div></nav></header><main class="page-main pa4" role=main><section class="page-content mw7 center"><article class="post-content pa0 ph4-l"><header class=post-header><h1 class="f1 lh-solid measure-narrow mb3 fw4">Introduction to Duck Typing and EAFP</h1><p class="f6 measure lh-copy mv1">By Saurav Maheshkar in <a href=https://sauravmaheshkar.github.io/categories/programming>Programming</a> <a href=https://sauravmaheshkar.github.io/categories/python>Python</a></p><p class="f7 db mv0 ttu">December 12, 2020</p></header><section class="post-body pt5 pb4"><p>Duck-Typing is a extremely useful programming style, which truly makes python awesome. It enables us to &ldquo;ignore&rdquo; the object type and rather just check if the object contains the function or not.</p><p>Famously referred in the
<a href=https://docs.python.org/3/glossary.html#term-duck-typing target=_blank rel=noopener>python documentation</a> as:</p><blockquote><p>&ldquo;If it looks like a duck and quacks like a duck, it must be a duck&rdquo;</p></blockquote><p>If the codebase is well defined, this allows for flexibility by allowing polymorphic substitution. It allows us to avoid stuff like <code>type()</code> and <code>isinstance()</code>.</p><p>Let&rsquo;s consider this example. We create two classes, Duck and Octocat. Because Octocat is awesome, let&rsquo;s assume it&rsquo;s capable of quacking.</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#000;font-weight:700>class</span> <span style=color:#458;font-weight:700>Duck</span>:
  <span style=color:#000;font-weight:700>def</span> <span style=color:#900;font-weight:700>quack</span>(<span style=color:#999>self</span>):
    <span style=color:#0086b3>print</span>(<span style=color:#d14>&#34;Quack, Quack&#34;</span>)

<span style=color:#000;font-weight:700>class</span> <span style=color:#458;font-weight:700>Octocat</span>:
  <span style=color:#000;font-weight:700>def</span> <span style=color:#900;font-weight:700>meow</span>(<span style=color:#999>self</span>):
    <span style=color:#0086b3>print</span>(<span style=color:#d14>&#34;Github is awesome&#34;</span>)
  <span style=color:#000;font-weight:700>def</span> <span style=color:#900;font-weight:700>quack</span>(<span style=color:#999>self</span>):
    <span style=color:#0086b3>print</span>(<span style=color:#d14>&#34;Quack, Quack&#34;</span>)
</code></pre></div><p>Now let&rsquo;s create a function <code>make_it_quack()</code>, Let&rsquo;s assume we don&rsquo;t know about Duck Typing and we need to write a function that checks whether the object which we pass into the function is of type <code>Duck</code> and if it is we invoke the <code>quack()</code> function</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#000;font-weight:700>def</span> <span style=color:#900;font-weight:700>make_it_quack</span>(<span style=color:#0086b3>object</span>):
  <span style=color:#000;font-weight:700>if</span> <span style=color:#0086b3>isinstance</span>(<span style=color:#0086b3>object</span>, Duck):
    <span style=color:#0086b3>object</span><span style=color:#000;font-weight:700>.</span>quack()
  <span style=color:#000;font-weight:700>else</span>:
    <span style=color:#0086b3>print</span>(<span style=color:#d14>&#34;Only duck&#39;s can quack&#34;</span>)
</code></pre></div><p>If we pass a Duck object (say <code>d</code>) our output will be:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>make_it_quack(d)
<span style=color:#000;font-weight:700>&gt;&gt;&gt;</span> Quack, Quack
</code></pre></div><p>If we pass a Octocat object (say <code>o</code>) our output will be:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>make_it_quick(o)
<span style=color:#000;font-weight:700>&gt;&gt;&gt;</span> Only duck<span style=color:#d14>&#39;s can quack</span>
</code></pre></div><p>In a package, there can be tons and tons of objects, we can&rsquo;t type check for every possible object type (But that is what people would do when python didn&rsquo;t exist!!), we can just do the following:</p><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#000;font-weight:700>def</span> <span style=color:#900;font-weight:700>make_it_quack</span>(<span style=color:#0086b3>object</span>):
  <span style=color:#0086b3>object</span><span style=color:#000;font-weight:700>.</span>quack()

make_it_quack(o)

<span style=color:#000;font-weight:700>&gt;&gt;&gt;</span> Quack, Quack
</code></pre></div><p>This is the essence of <em>Duck-Typing</em>.</p><hr><p><strong>Look before you Leap(LBYL)</strong>: This is coding style which explicitly tests for pre-conditions before making calls or lookups. It&rsquo;s characterised by the presence of many <code>if</code> statements.</p><p><strong>Easier to ask for forgiveness than permission</strong>: This is a common python coding style, which just assumes the existence of valid keys/attributes and only catches exceptions if this assumptions prove false. This makes the code much cleaner and is usually characterised by the presence of <code>try</code> and <code>except</code> statements.</p><p>Let&rsquo;s assume we&rsquo;re analysing some <code>metadata</code> dictionary and we need to extract a particular key value</p><h2 id=the-lbyl-way>The LBYL way
<a href=#the-lbyl-way><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>metadata <span style=color:#000;font-weight:700>=</span> {<span style=color:#d14>&#34;day&#34;</span>: <span style=color:#d14>&#34;Monday&#34;</span>,
            <span style=color:#d14>&#34;month&#34;</span>: <span style=color:#d14>&#34;December&#34;</span>,
            <span style=color:#d14>&#34;visited&#34;</span>:<span style=color:#000;font-weight:700>True</span>
           }
<span style=color:#000;font-weight:700>if</span> <span style=color:#d14>&#34;day&#34;</span> <span style=color:#000;font-weight:700>in</span> metadata <span style=color:#000;font-weight:700>and</span> <span style=color:#d14>&#34;month&#34;</span> <span style=color:#000;font-weight:700>in</span> metadata <span style=color:#000;font-weight:700>and</span> <span style=color:#d14>&#34;visited&#34;</span> <span style=color:#000;font-weight:700>in</span> metadata:
  visit <span style=color:#000;font-weight:700>=</span> metadata[<span style=color:#d14>&#34;day&#34;</span>]
<span style=color:#000;font-weight:700>else</span>:
  <span style=color:#0086b3>print</span>(<span style=color:#d14>&#34;Missing key&#34;</span>)
</code></pre></div><h2 id=the-eafp-way>The EAFP way
<a href=#the-eafp-way><svg class="anchor-symbol" aria-hidden="true" height="26" width="26" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="currentcolor"/><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76.0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71.0-3.1-1.39-3.1-3.1zM8 13h8v-2H8v2zm9-6h-4v1.9h4c1.71.0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76.0 5-2.24 5-5s-2.24-5-5-5z"/></svg></a></h2><div class=highlight><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#000;font-weight:700>try</span>:
    visit <span style=color:#000;font-weight:700>=</span> metadata[<span style=color:#d14>&#34;visited&#34;</span>]
<span style=color:#000;font-weight:700>except</span> <span style=color:#900;font-weight:700>KeyError</span> <span style=color:#000;font-weight:700>as</span> e:
    <span style=color:#0086b3>print</span>(<span style=color:#d14>&#34;</span><span style=color:#d14>{}</span><span style=color:#d14> not found&#34;</span><span style=color:#000;font-weight:700>.</span>format(e))
</code></pre></div><p>It&rsquo;s pretty intuitive why EAFP is better than the LBYL approach.</p><details closed class="f6 fw7 input-reset"><dl class="f6 lh-copy"><dt class=fw7>Posted on:</dt><dd class="fw5 ml0">December 12, 2020</dd></dl><dl class="f6 lh-copy"><dt class=fw7>Length:</dt><dd class="fw5 ml0">2 minute read, 402 words</dd></dl><dl class="f6 lh-copy"><dt class=fw7>Categories:</dt><dd class="fw5 ml0"><a href=https://sauravmaheshkar.github.io/categories/programming>Programming</a> <a href=https://sauravmaheshkar.github.io/categories/python>Python</a></dd></dl><dl class="f6 lh-copy"><dt class=fw7>See Also:</dt></dl></details></section><footer class=post-footer><div class="post-pagination dt w-100 mt4 mb2"><a class="prev dtc pr2 tl v-top fw6" href=https://sauravmaheshkar.github.io/blog/kernel-machine/>&larr; Every Model is a Kernel Machine</a>
<a class="next dtc pl2 tr v-top fw6" href=https://sauravmaheshkar.github.io/blog/ner-reformer/>Named Entity Recognition using Reformer &rarr;</a></div></footer></article><div class="post-comments pa0 pa4-l mt4"><script src=https://utteranc.es/client.js repo=apreshill/apero issue-term=pathname theme=boxy-light label="comments :crystal_ball:" crossorigin=anonymous async type=text/javascript></script></div></section></main><footer class="site-footer pv4 bt b--transparent ph5" role=contentinfo><nav class="db dt-l w-100"><p class="site-copyright f7 db dtc-l v-mid w-100 w-33-l tc tl-l pv2 pv0-l mv0 lh-copy">&copy; 2021 Weights and Biases, New Delhi
<span class=middot-divider></span>Made with <span xmlns:dct=http://purl.org/dc/terms/ property="dct:title"><a xmlns:dct=http://purl.org/dc/terms/ href=https://github.com/hugo-apero/ rel=dct:source>Hugo Ap√©ro</a></span>.<br>Based on <span xmlns:dct=http://purl.org/dc/terms/ property="dct:title"><a xmlns:dct=http://purl.org/dc/terms/ href=https://github.com/formspree/blogophonic-hugo rel=dct:source>Blogophonic</a></span> by <a xmlns:cc=http://creativecommons.org/ns# href=https://formspree.io property="cc:attributionName" rel=cc:attributionurl>Formspree</a>.</p><div class="site-social-links db dtc-l v-mid w-100 w-33-l tc pv2 pv0-l mv0"><div class=social-icon-links aria-hidden=true><a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href=https://github.com/SauravMaheshkar title=github target=_blank rel=noopener><i class="fab fa-github fa-lg fa-fw"></i></a>
<a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href=https://www.instagram.com/sauravvmaheshkar/ title=instagram target=_blank rel=noopener><i class="fab fa-instagram fa-lg fa-fw"></i></a>
<a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href=https://twitter.com/MaheshkarSaurav title=twitter target=_blank rel=noopener><i class="fab fa-twitter fa-lg fa-fw"></i></a>
<a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href=https://orcid.org/0000-0002-5371-4651 title=orcid target=_blank rel=noopener><i class="ai ai-orcid fa-lg fa-fw"></i></a>
<a class="link dib h1 w1 ml0 mr2 f6 o-90 glow" href=/blog/index.xml title=rss><i class="fas fa-rss fa-lg fa-fw"></i></a></div></div><div class="site-links f6 db dtc-l v-mid w-100 w-67-l tc tr-l pv2 pv0-l mv0"><a class="dib pv1 ph2 link" href=/license/ title=License>License</a>
<a class="dib pv1 ph2 link" href=/contact/ title="Contact form">Contact</a></div></nav></footer></div></body></html>